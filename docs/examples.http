### Koban Free API - Exemplos de requests (REST Client VS Code)

@base = http://localhost:3000
@json = application/json

### Health
GET {{base}}/health

### Criar chave
POST {{base}}/api/keys/create
Content-Type: {{json}}

{
  "user_id": "user123",
  "hours": 24
}

### Validar chave
GET {{base}}/api/keys/validate/{{keyId}}

### Info da chave
GET {{base}}/api/keys/info/{{keyId}}

### Todas as chaves de um usuário
GET {{base}}/api/keys/user/user123

### Deletar chave
DELETE {{base}}/api/keys/{{keyId}}

### Admin - Login
# Ajuste o host/origem conforme necessário
POST {{base}}/admin/auth/login
Content-Type: {{json}}

{
  "username": "admin",
  "password": "admin123"
}

### Admin - Stats (após login; cookie admin_session deve estar presente)
GET {{base}}/admin/api/stats

### Admin - Sessão atual
GET {{base}}/admin/api/session

### Admin - Listar admins
GET {{base}}/admin/api/admins

### Admin - Criar admin
POST {{base}}/admin/api/admins
Content-Type: {{json}}

{
  "username": "newadmin",
  "password": "senhaSecreta123",
  "status": "ACTIVE",
  "notes": "Criado via REST client"
}

### Admin - Atualizar admin
PATCH {{base}}/admin/api/admins/{{adminId}}
Content-Type: {{json}}

{
  "status": "DISABLED",
  "notes": "Conta temporariamente bloqueada"
}

### Admin - Desativar admin (soft delete)
DELETE {{base}}/admin/api/admins/{{adminId}}
Content-Type: {{json}}

{
  "reason": "Acesso revogado pelo compliance"
}

### Admin - Remover admin definitivamente
DELETE {{base}}/admin/api/admins/{{adminId}}?hard=true
